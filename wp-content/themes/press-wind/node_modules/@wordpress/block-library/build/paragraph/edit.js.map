{"version":3,"names":["_clsx","_interopRequireDefault","require","_i18n","_components","_blockEditor","_icons","_useEnter","_jsxRuntime","ParagraphRTLControl","direction","setDirection","isRTL","jsx","ToolbarButton","icon","formatLtr","title","_x","isActive","onClick","undefined","hasDropCapDisabled","align","DropCapControl","clientId","attributes","setAttributes","isDropCapFeatureEnabled","useSettings","dropCap","helpText","__","__experimentalToolsPanelItem","hasValue","label","onDeselect","resetAllFilter","panelId","children","ToggleControl","__nextHasNoMarginBottom","checked","onChange","help","disabled","ParagraphBlock","mergeBlocks","onReplace","onRemove","content","placeholder","blockProps","useBlockProps","ref","useOnEnter","className","clsx","style","blockEditingMode","useBlockEditingMode","jsxs","Fragment","BlockControls","group","AlignmentControl","value","newAlign","newDirection","InspectorControls","RichText","identifier","tagName","newContent","onMerge","isEmpty","__unstableEmbedURLOnPaste","__unstableAllowPrefixTransformations","_default","exports","default"],"sources":["@wordpress/block-library/src/paragraph/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport {\n\tToolbarButton,\n\tToggleControl,\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n} from '@wordpress/components';\nimport {\n\tAlignmentControl,\n\tBlockControls,\n\tInspectorControls,\n\tRichText,\n\tuseBlockProps,\n\tuseSettings,\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { formatLtr } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useOnEnter } from './use-enter';\n\nfunction ParagraphRTLControl( { direction, setDirection } ) {\n\treturn (\n\t\tisRTL() && (\n\t\t\t<ToolbarButton\n\t\t\t\ticon={ formatLtr }\n\t\t\t\ttitle={ _x( 'Left to right', 'editor button' ) }\n\t\t\t\tisActive={ direction === 'ltr' }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetDirection( direction === 'ltr' ? undefined : 'ltr' );\n\t\t\t\t} }\n\t\t\t/>\n\t\t)\n\t);\n}\n\nfunction hasDropCapDisabled( align ) {\n\treturn align === ( isRTL() ? 'left' : 'right' ) || align === 'center';\n}\n\nfunction DropCapControl( { clientId, attributes, setAttributes } ) {\n\t// Please do not add a useSelect call to the paragraph block unconditionally.\n\t// Every useSelect added to a (frequently used) block will degrade load\n\t// and type performance. By moving it within InspectorControls, the subscription is\n\t// now only added for the selected block(s).\n\tconst [ isDropCapFeatureEnabled ] = useSettings( 'typography.dropCap' );\n\n\tif ( ! isDropCapFeatureEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst { align, dropCap } = attributes;\n\n\tlet helpText;\n\tif ( hasDropCapDisabled( align ) ) {\n\t\thelpText = __( 'Not available for aligned text.' );\n\t} else if ( dropCap ) {\n\t\thelpText = __( 'Showing large initial letter.' );\n\t} else {\n\t\thelpText = __( 'Toggle to show a large initial letter.' );\n\t}\n\n\treturn (\n\t\t<ToolsPanelItem\n\t\t\thasValue={ () => !! dropCap }\n\t\t\tlabel={ __( 'Drop cap' ) }\n\t\t\tonDeselect={ () => setAttributes( { dropCap: undefined } ) }\n\t\t\tresetAllFilter={ () => ( { dropCap: undefined } ) }\n\t\t\tpanelId={ clientId }\n\t\t>\n\t\t\t<ToggleControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Drop cap' ) }\n\t\t\t\tchecked={ !! dropCap }\n\t\t\t\tonChange={ () => setAttributes( { dropCap: ! dropCap } ) }\n\t\t\t\thelp={ helpText }\n\t\t\t\tdisabled={ hasDropCapDisabled( align ) ? true : false }\n\t\t\t/>\n\t\t</ToolsPanelItem>\n\t);\n}\n\nfunction ParagraphBlock( {\n\tattributes,\n\tmergeBlocks,\n\tonReplace,\n\tonRemove,\n\tsetAttributes,\n\tclientId,\n} ) {\n\tconst { align, content, direction, dropCap, placeholder } = attributes;\n\tconst blockProps = useBlockProps( {\n\t\tref: useOnEnter( { clientId, content } ),\n\t\tclassName: clsx( {\n\t\t\t'has-drop-cap': hasDropCapDisabled( align ) ? false : dropCap,\n\t\t\t[ `has-text-align-${ align }` ]: align,\n\t\t} ),\n\t\tstyle: { direction },\n\t} );\n\tconst blockEditingMode = useBlockEditingMode();\n\n\treturn (\n\t\t<>\n\t\t\t{ blockEditingMode === 'default' && (\n\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t<AlignmentControl\n\t\t\t\t\t\tvalue={ align }\n\t\t\t\t\t\tonChange={ ( newAlign ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\talign: newAlign,\n\t\t\t\t\t\t\t\tdropCap: hasDropCapDisabled( newAlign )\n\t\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t\t: dropCap,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<ParagraphRTLControl\n\t\t\t\t\t\tdirection={ direction }\n\t\t\t\t\t\tsetDirection={ ( newDirection ) =>\n\t\t\t\t\t\t\tsetAttributes( { direction: newDirection } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t) }\n\t\t\t<InspectorControls group=\"typography\">\n\t\t\t\t<DropCapControl\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<RichText\n\t\t\t\tidentifier=\"content\"\n\t\t\t\ttagName=\"p\"\n\t\t\t\t{ ...blockProps }\n\t\t\t\tvalue={ content }\n\t\t\t\tonChange={ ( newContent ) =>\n\t\t\t\t\tsetAttributes( { content: newContent } )\n\t\t\t\t}\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\tonReplace={ onReplace }\n\t\t\t\tonRemove={ onRemove }\n\t\t\t\taria-label={\n\t\t\t\t\tRichText.isEmpty( content )\n\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t'Empty block; start writing or type forward slash to choose a block'\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Block: Paragraph' )\n\t\t\t\t}\n\t\t\t\tdata-empty={ RichText.isEmpty( content ) }\n\t\t\t\tplaceholder={ placeholder || __( 'Type / to choose a block' ) }\n\t\t\t\tdata-custom-placeholder={ placeholder ? true : undefined }\n\t\t\t\t__unstableEmbedURLOnPaste\n\t\t\t\t__unstableAllowPrefixTransformations\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default ParagraphBlock;\n"],"mappings":"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","ignoreList":[]}