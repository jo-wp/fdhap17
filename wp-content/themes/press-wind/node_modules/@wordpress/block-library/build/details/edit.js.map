{"version":3,"names":["_blockEditor","require","_data","_components","_i18n","_jsxRuntime","TEMPLATE","placeholder","__","DetailsEdit","attributes","setAttributes","clientId","showContent","summary","blockProps","useBlockProps","innerBlocksProps","useInnerBlocksProps","template","__experimentalCaptureToolbars","hasSelection","useSelect","select","isBlockSelected","hasSelectedInnerBlock","blockEditorStore","jsxs","Fragment","children","jsx","InspectorControls","PanelBody","title","ToggleControl","__nextHasNoMarginBottom","label","checked","onChange","open","onClick","event","preventDefault","RichText","identifier","allowedFormats","withoutInteractiveFormatting","value","newSummary","_default","exports","default"],"sources":["@wordpress/block-library/src/details/edit.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tstore as blockEditorStore,\n\tInspectorControls,\n} from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody, ToggleControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst TEMPLATE = [\n\t[\n\t\t'core/paragraph',\n\t\t{\n\t\t\tplaceholder: __( 'Type / to add a hidden block' ),\n\t\t},\n\t],\n];\n\nfunction DetailsEdit( { attributes, setAttributes, clientId } ) {\n\tconst { showContent, summary } = attributes;\n\tconst blockProps = useBlockProps();\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\ttemplate: TEMPLATE,\n\t\t__experimentalCaptureToolbars: true,\n\t} );\n\n\t// Check if either the block or the inner blocks are selected.\n\tconst hasSelection = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isBlockSelected, hasSelectedInnerBlock } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\t/* Sets deep to true to also find blocks inside the details content block. */\n\t\t\treturn (\n\t\t\t\thasSelectedInnerBlock( clientId, true ) ||\n\t\t\t\tisBlockSelected( clientId )\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Open by default' ) }\n\t\t\t\t\t\tchecked={ showContent }\n\t\t\t\t\t\tonChange={ () =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tshowContent: ! showContent,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<details\n\t\t\t\t{ ...innerBlocksProps }\n\t\t\t\topen={ hasSelection || showContent }\n\t\t\t>\n\t\t\t\t<summary onClick={ ( event ) => event.preventDefault() }>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"summary\"\n\t\t\t\t\t\taria-label={ __( 'Write summary' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Write summaryâ€¦' ) }\n\t\t\t\t\t\tallowedFormats={ [] }\n\t\t\t\t\t\twithoutInteractiveFormatting\n\t\t\t\t\t\tvalue={ summary }\n\t\t\t\t\t\tonChange={ ( newSummary ) =>\n\t\t\t\t\t\t\tsetAttributes( { summary: newSummary } )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</summary>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t</details>\n\t\t</>\n\t);\n}\n\nexport default DetailsEdit;\n"],"mappings":";;;;;;AAGA,IAAAA,YAAA,GAAAC,OAAA;AAOA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AAAqC,IAAAI,WAAA,GAAAJ,OAAA;AAZrC;AACA;AACA;;AAYA,MAAMK,QAAQ,GAAG,CAChB,CACC,gBAAgB,EAChB;EACCC,WAAW,EAAE,IAAAC,QAAE,EAAE,8BAA+B;AACjD,CAAC,CACD,CACD;AAED,SAASC,WAAWA,CAAE;EAAEC,UAAU;EAAEC,aAAa;EAAEC;AAAS,CAAC,EAAG;EAC/D,MAAM;IAAEC,WAAW;IAAEC;EAAQ,CAAC,GAAGJ,UAAU;EAC3C,MAAMK,UAAU,GAAG,IAAAC,0BAAa,EAAC,CAAC;EAClC,MAAMC,gBAAgB,GAAG,IAAAC,gCAAmB,EAAEH,UAAU,EAAE;IACzDI,QAAQ,EAAEb,QAAQ;IAClBc,6BAA6B,EAAE;EAChC,CAAE,CAAC;;EAEH;EACA,MAAMC,YAAY,GAAG,IAAAC,eAAS,EAC3BC,MAAM,IAAM;IACb,MAAM;MAAEC,eAAe;MAAEC;IAAsB,CAAC,GAC/CF,MAAM,CAAEG,kBAAiB,CAAC;IAC3B;IACA,OACCD,qBAAqB,CAAEb,QAAQ,EAAE,IAAK,CAAC,IACvCY,eAAe,CAAEZ,QAAS,CAAC;EAE7B,CAAC,EACD,CAAEA,QAAQ,CACX,CAAC;EAED,oBACC,IAAAP,WAAA,CAAAsB,IAAA,EAAAtB,WAAA,CAAAuB,QAAA;IAAAC,QAAA,gBACC,IAAAxB,WAAA,CAAAyB,GAAA,EAAC9B,YAAA,CAAA+B,iBAAiB;MAAAF,QAAA,eACjB,IAAAxB,WAAA,CAAAyB,GAAA,EAAC3B,WAAA,CAAA6B,SAAS;QAACC,KAAK,EAAG,IAAAzB,QAAE,EAAE,UAAW,CAAG;QAAAqB,QAAA,eACpC,IAAAxB,WAAA,CAAAyB,GAAA,EAAC3B,WAAA,CAAA+B,aAAa;UACbC,uBAAuB;UACvBC,KAAK,EAAG,IAAA5B,QAAE,EAAE,iBAAkB,CAAG;UACjC6B,OAAO,EAAGxB,WAAa;UACvByB,QAAQ,EAAGA,CAAA,KACV3B,aAAa,CAAE;YACdE,WAAW,EAAE,CAAEA;UAChB,CAAE;QACF,CACD;MAAC,CACQ;IAAC,CACM,CAAC,eACpB,IAAAR,WAAA,CAAAsB,IAAA;MAAA,GACMV,gBAAgB;MACrBsB,IAAI,EAAGlB,YAAY,IAAIR,WAAa;MAAAgB,QAAA,gBAEpC,IAAAxB,WAAA,CAAAyB,GAAA;QAASU,OAAO,EAAKC,KAAK,IAAMA,KAAK,CAACC,cAAc,CAAC,CAAG;QAAAb,QAAA,eACvD,IAAAxB,WAAA,CAAAyB,GAAA,EAAC9B,YAAA,CAAA2C,QAAQ;UACRC,UAAU,EAAC,SAAS;UACpB,cAAa,IAAApC,QAAE,EAAE,eAAgB,CAAG;UACpCD,WAAW,EAAG,IAAAC,QAAE,EAAE,gBAAiB,CAAG;UACtCqC,cAAc,EAAG,EAAI;UACrBC,4BAA4B;UAC5BC,KAAK,EAAGjC,OAAS;UACjBwB,QAAQ,EAAKU,UAAU,IACtBrC,aAAa,CAAE;YAAEG,OAAO,EAAEkC;UAAW,CAAE;QACvC,CACD;MAAC,CACM,CAAC,EACR/B,gBAAgB,CAACY,QAAQ;IAAA,CACnB,CAAC;EAAA,CACT,CAAC;AAEL;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEc1C,WAAW","ignoreList":[]}