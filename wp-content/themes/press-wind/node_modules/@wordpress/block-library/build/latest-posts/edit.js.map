{"version":3,"names":["_clsx","_interopRequireDefault","require","_components","_i18n","_date","_blockEditor","_data","_icons","_coreData","_notices","_compose","_element","_constants","_jsxRuntime","CATEGORIES_LIST_QUERY","per_page","context","USERS_LIST_QUERY","has_published_posts","getFeaturedImageDetails","post","size","_image$media_details$","image","_embedded","url","media_details","sizes","source_url","alt","alt_text","LatestPostsEdit","attributes","setAttributes","_categoriesList$reduc","instanceId","useInstanceId","postsToShow","order","orderBy","categories","selectedAuthor","displayFeaturedImage","displayPostContentRadio","displayPostContent","displayPostDate","displayAuthor","postLayout","columns","excerptLength","featuredImageAlign","featuredImageSizeSlug","featuredImageSizeWidth","featuredImageSizeHeight","addLinkToFeaturedImage","imageSizes","latestPosts","defaultImageWidth","defaultImageHeight","categoriesList","authorList","useSelect","select","_settings$imageDimens","_settings$imageDimens2","getEntityRecords","getUsers","coreStore","settings","blockEditorStore","getSettings","catIds","length","map","cat","id","latestPostsQuery","Object","fromEntries","entries","author","orderby","_embed","filter","value","imageDimensions","width","height","createWarningNotice","removeNotice","useDispatch","noticeStore","noticeId","showRedirectionPreventedNotice","event","preventDefault","__","type","imageSizeOptions","slug","name","label","categorySuggestions","reduce","accumulator","category","selectCategories","tokens","hasNoSuggestion","some","token","allCategories","includes","imageAlignmentOptions","icon","alignNone","positionLeft","positionCenter","positionRight","hasPosts","inspectorControls","jsxs","InspectorControls","children","PanelBody","title","jsx","ToggleControl","__nextHasNoMarginBottom","checked","onChange","RadioControl","className","selected","options","RangeControl","__next40pxDefaultSize","min","MIN_EXCERPT_LENGTH","max","MAX_EXCERPT_LENGTH","Fragment","__experimentalImageSizeControl","newAttrs","hasOwnProperty","imageWidth","imageHeight","imageSizeHelp","onChangeImage","undefined","__experimentalToggleGroupControl","__experimentalToggleGroupControlOptionIcon","QueryControls","numberOfItems","onOrderChange","onOrderByChange","onNumberOfItemsChange","onCategoryChange","selectedCategories","onAuthorChange","Number","selectedAuthorId","MAX_POSTS_COLUMNS","Math","required","blockProps","useBlockProps","clsx","Placeholder","pin","Array","isArray","Spinner","displayPosts","slice","layoutControls","list","_x","onClick","isActive","grid","dateFormat","formats","date","BlockControls","ToolbarGroup","controls","titleTrimmed","rendered","trim","excerpt","currentAuthor","find","excerptElement","document","createElement","innerHTML","textContent","innerText","imageSourceUrl","featuredImageAlt","imageClasses","renderFeaturedImage","featuredImage","src","style","maxWidth","maxHeight","needsReadMore","split","raw","postExcerpt","join","createInterpolateElement","sprintf","a","href","link","rel","span","dangerouslySetInnerHTML","__html","date_gmt","dateTime","format","dateI18n","content"],"sources":["@wordpress/block-library/src/latest-posts/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\tPlaceholder,\n\tQueryControls,\n\tRadioControl,\n\tRangeControl,\n\tSpinner,\n\tToggleControl,\n\tToolbarGroup,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n} from '@wordpress/components';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { dateI18n, format, getSettings } from '@wordpress/date';\nimport {\n\tInspectorControls,\n\tBlockControls,\n\t__experimentalImageSizeControl as ImageSizeControl,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tpin,\n\tlist,\n\tgrid,\n\talignNone,\n\tpositionLeft,\n\tpositionCenter,\n\tpositionRight,\n} from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as noticeStore } from '@wordpress/notices';\nimport { useInstanceId } from '@wordpress/compose';\nimport { createInterpolateElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport {\n\tMIN_EXCERPT_LENGTH,\n\tMAX_EXCERPT_LENGTH,\n\tMAX_POSTS_COLUMNS,\n} from './constants';\n\n/**\n * Module Constants\n */\nconst CATEGORIES_LIST_QUERY = {\n\tper_page: -1,\n\tcontext: 'view',\n};\nconst USERS_LIST_QUERY = {\n\tper_page: -1,\n\thas_published_posts: [ 'post' ],\n\tcontext: 'view',\n};\n\nfunction getFeaturedImageDetails( post, size ) {\n\tconst image = post._embedded?.[ 'wp:featuredmedia' ]?.[ '0' ];\n\n\treturn {\n\t\turl:\n\t\t\timage?.media_details?.sizes?.[ size ]?.source_url ??\n\t\t\timage?.source_url,\n\t\talt: image?.alt_text,\n\t};\n}\n\nexport default function LatestPostsEdit( { attributes, setAttributes } ) {\n\tconst instanceId = useInstanceId( LatestPostsEdit );\n\tconst {\n\t\tpostsToShow,\n\t\torder,\n\t\torderBy,\n\t\tcategories,\n\t\tselectedAuthor,\n\t\tdisplayFeaturedImage,\n\t\tdisplayPostContentRadio,\n\t\tdisplayPostContent,\n\t\tdisplayPostDate,\n\t\tdisplayAuthor,\n\t\tpostLayout,\n\t\tcolumns,\n\t\texcerptLength,\n\t\tfeaturedImageAlign,\n\t\tfeaturedImageSizeSlug,\n\t\tfeaturedImageSizeWidth,\n\t\tfeaturedImageSizeHeight,\n\t\taddLinkToFeaturedImage,\n\t} = attributes;\n\tconst {\n\t\timageSizes,\n\t\tlatestPosts,\n\t\tdefaultImageWidth,\n\t\tdefaultImageHeight,\n\t\tcategoriesList,\n\t\tauthorList,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecords, getUsers } = select( coreStore );\n\t\t\tconst settings = select( blockEditorStore ).getSettings();\n\t\t\tconst catIds =\n\t\t\t\tcategories && categories.length > 0\n\t\t\t\t\t? categories.map( ( cat ) => cat.id )\n\t\t\t\t\t: [];\n\t\t\tconst latestPostsQuery = Object.fromEntries(\n\t\t\t\tObject.entries( {\n\t\t\t\t\tcategories: catIds,\n\t\t\t\t\tauthor: selectedAuthor,\n\t\t\t\t\torder,\n\t\t\t\t\torderby: orderBy,\n\t\t\t\t\tper_page: postsToShow,\n\t\t\t\t\t_embed: 'wp:featuredmedia',\n\t\t\t\t} ).filter( ( [ , value ] ) => typeof value !== 'undefined' )\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tdefaultImageWidth:\n\t\t\t\t\tsettings.imageDimensions?.[ featuredImageSizeSlug ]\n\t\t\t\t\t\t?.width ?? 0,\n\t\t\t\tdefaultImageHeight:\n\t\t\t\t\tsettings.imageDimensions?.[ featuredImageSizeSlug ]\n\t\t\t\t\t\t?.height ?? 0,\n\t\t\t\timageSizes: settings.imageSizes,\n\t\t\t\tlatestPosts: getEntityRecords(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'post',\n\t\t\t\t\tlatestPostsQuery\n\t\t\t\t),\n\t\t\t\tcategoriesList: getEntityRecords(\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\t'category',\n\t\t\t\t\tCATEGORIES_LIST_QUERY\n\t\t\t\t),\n\t\t\t\tauthorList: getUsers( USERS_LIST_QUERY ),\n\t\t\t};\n\t\t},\n\t\t[\n\t\t\tfeaturedImageSizeSlug,\n\t\t\tpostsToShow,\n\t\t\torder,\n\t\t\torderBy,\n\t\t\tcategories,\n\t\t\tselectedAuthor,\n\t\t]\n\t);\n\n\t// If a user clicks to a link prevent redirection and show a warning.\n\tconst { createWarningNotice, removeNotice } = useDispatch( noticeStore );\n\tlet noticeId;\n\tconst showRedirectionPreventedNotice = ( event ) => {\n\t\tevent.preventDefault();\n\t\t// Remove previous warning if any, to show one at a time per block.\n\t\tremoveNotice( noticeId );\n\t\tnoticeId = `block-library/core/latest-posts/redirection-prevented/${ instanceId }`;\n\t\tcreateWarningNotice( __( 'Links are disabled in the editor.' ), {\n\t\t\tid: noticeId,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t};\n\n\tconst imageSizeOptions = imageSizes\n\t\t.filter( ( { slug } ) => slug !== 'full' )\n\t\t.map( ( { name, slug } ) => ( {\n\t\t\tvalue: slug,\n\t\t\tlabel: name,\n\t\t} ) );\n\tconst categorySuggestions =\n\t\tcategoriesList?.reduce(\n\t\t\t( accumulator, category ) => ( {\n\t\t\t\t...accumulator,\n\t\t\t\t[ category.name ]: category,\n\t\t\t} ),\n\t\t\t{}\n\t\t) ?? {};\n\tconst selectCategories = ( tokens ) => {\n\t\tconst hasNoSuggestion = tokens.some(\n\t\t\t( token ) =>\n\t\t\t\ttypeof token === 'string' && ! categorySuggestions[ token ]\n\t\t);\n\t\tif ( hasNoSuggestion ) {\n\t\t\treturn;\n\t\t}\n\t\t// Categories that are already will be objects, while new additions will be strings (the name).\n\t\t// allCategories nomalizes the array so that they are all objects.\n\t\tconst allCategories = tokens.map( ( token ) => {\n\t\t\treturn typeof token === 'string'\n\t\t\t\t? categorySuggestions[ token ]\n\t\t\t\t: token;\n\t\t} );\n\t\t// We do nothing if the category is not selected\n\t\t// from suggestions.\n\t\tif ( allCategories.includes( null ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tsetAttributes( { categories: allCategories } );\n\t};\n\n\tconst imageAlignmentOptions = [\n\t\t{\n\t\t\tvalue: 'none',\n\t\t\ticon: alignNone,\n\t\t\tlabel: __( 'None' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'left',\n\t\t\ticon: positionLeft,\n\t\t\tlabel: __( 'Left' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'center',\n\t\t\ticon: positionCenter,\n\t\t\tlabel: __( 'Center' ),\n\t\t},\n\t\t{\n\t\t\tvalue: 'right',\n\t\t\ticon: positionRight,\n\t\t\tlabel: __( 'Right' ),\n\t\t},\n\t];\n\n\tconst hasPosts = !! latestPosts?.length;\n\tconst inspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Post content' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Post content' ) }\n\t\t\t\t\tchecked={ displayPostContent }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { displayPostContent: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ displayPostContent && (\n\t\t\t\t\t<RadioControl\n\t\t\t\t\t\tclassName=\"wp-block-latest-posts__post-content-radio\"\n\t\t\t\t\t\tlabel={ __( 'Show' ) }\n\t\t\t\t\t\tselected={ displayPostContentRadio }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: __( 'Excerpt' ), value: 'excerpt' },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Full post' ),\n\t\t\t\t\t\t\t\tvalue: 'full_post',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tdisplayPostContentRadio: value,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ displayPostContent &&\n\t\t\t\t\tdisplayPostContentRadio === 'excerpt' && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={ __( 'Max number of words' ) }\n\t\t\t\t\t\t\tvalue={ excerptLength }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ MIN_EXCERPT_LENGTH }\n\t\t\t\t\t\t\tmax={ MAX_EXCERPT_LENGTH }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody title={ __( 'Post meta' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Display author name' ) }\n\t\t\t\t\tchecked={ displayAuthor }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { displayAuthor: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Display post date' ) }\n\t\t\t\t\tchecked={ displayPostDate }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { displayPostDate: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody title={ __( 'Featured image' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Display featured image' ) }\n\t\t\t\t\tchecked={ displayFeaturedImage }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { displayFeaturedImage: value } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ displayFeaturedImage && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ImageSizeControl\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tconst newAttrs = {};\n\t\t\t\t\t\t\t\tif ( value.hasOwnProperty( 'width' ) ) {\n\t\t\t\t\t\t\t\t\tnewAttrs.featuredImageSizeWidth =\n\t\t\t\t\t\t\t\t\t\tvalue.width;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( value.hasOwnProperty( 'height' ) ) {\n\t\t\t\t\t\t\t\t\tnewAttrs.featuredImageSizeHeight =\n\t\t\t\t\t\t\t\t\t\tvalue.height;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetAttributes( newAttrs );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tslug={ featuredImageSizeSlug }\n\t\t\t\t\t\t\twidth={ featuredImageSizeWidth }\n\t\t\t\t\t\t\theight={ featuredImageSizeHeight }\n\t\t\t\t\t\t\timageWidth={ defaultImageWidth }\n\t\t\t\t\t\t\timageHeight={ defaultImageHeight }\n\t\t\t\t\t\t\timageSizeOptions={ imageSizeOptions }\n\t\t\t\t\t\t\timageSizeHelp={ __(\n\t\t\t\t\t\t\t\t'Select the size of the source image.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonChangeImage={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tfeaturedImageSizeSlug: value,\n\t\t\t\t\t\t\t\t\tfeaturedImageSizeWidth: undefined,\n\t\t\t\t\t\t\t\t\tfeaturedImageSizeHeight: undefined,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t\tclassName=\"editor-latest-posts-image-alignment-control\"\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={ __( 'Image alignment' ) }\n\t\t\t\t\t\t\tvalue={ featuredImageAlign || 'none' }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tfeaturedImageAlign:\n\t\t\t\t\t\t\t\t\t\tvalue !== 'none' ? value : undefined,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ imageAlignmentOptions.map(\n\t\t\t\t\t\t\t\t( { value, icon, label } ) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\t\t\t\t\t\tkey={ value }\n\t\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Add link to featured image' ) }\n\t\t\t\t\t\t\tchecked={ addLinkToFeaturedImage }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\taddLinkToFeaturedImage: value,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody title={ __( 'Sorting and filtering' ) }>\n\t\t\t\t<QueryControls\n\t\t\t\t\t{ ...{ order, orderBy } }\n\t\t\t\t\tnumberOfItems={ postsToShow }\n\t\t\t\t\tonOrderChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { order: value } )\n\t\t\t\t\t}\n\t\t\t\t\tonOrderByChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { orderBy: value } )\n\t\t\t\t\t}\n\t\t\t\t\tonNumberOfItemsChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( { postsToShow: value } )\n\t\t\t\t\t}\n\t\t\t\t\tcategorySuggestions={ categorySuggestions }\n\t\t\t\t\tonCategoryChange={ selectCategories }\n\t\t\t\t\tselectedCategories={ categories }\n\t\t\t\t\tonAuthorChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tselectedAuthor:\n\t\t\t\t\t\t\t\t'' !== value ? Number( value ) : undefined,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tauthorList={ authorList ?? [] }\n\t\t\t\t\tselectedAuthorId={ selectedAuthor }\n\t\t\t\t/>\n\n\t\t\t\t{ postLayout === 'grid' && (\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\tmax={\n\t\t\t\t\t\t\t! hasPosts\n\t\t\t\t\t\t\t\t? MAX_POSTS_COLUMNS\n\t\t\t\t\t\t\t\t: Math.min(\n\t\t\t\t\t\t\t\t\t\tMAX_POSTS_COLUMNS,\n\t\t\t\t\t\t\t\t\t\tlatestPosts.length\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: clsx( {\n\t\t\t'wp-block-latest-posts__list': true,\n\t\t\t'is-grid': postLayout === 'grid',\n\t\t\t'has-dates': displayPostDate,\n\t\t\t'has-author': displayAuthor,\n\t\t\t[ `columns-${ columns }` ]: postLayout === 'grid',\n\t\t} ),\n\t} );\n\n\tif ( ! hasPosts ) {\n\t\treturn (\n\t\t\t<div { ...blockProps }>\n\t\t\t\t{ inspectorControls }\n\t\t\t\t<Placeholder icon={ pin } label={ __( 'Latest Posts' ) }>\n\t\t\t\t\t{ ! Array.isArray( latestPosts ) ? (\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t__( 'No posts found.' )\n\t\t\t\t\t) }\n\t\t\t\t</Placeholder>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Removing posts from display should be instant.\n\tconst displayPosts =\n\t\tlatestPosts.length > postsToShow\n\t\t\t? latestPosts.slice( 0, postsToShow )\n\t\t\t: latestPosts;\n\n\tconst layoutControls = [\n\t\t{\n\t\t\ticon: list,\n\t\t\ttitle: _x( 'List view', 'Latest posts block display setting' ),\n\t\t\tonClick: () => setAttributes( { postLayout: 'list' } ),\n\t\t\tisActive: postLayout === 'list',\n\t\t},\n\t\t{\n\t\t\ticon: grid,\n\t\t\ttitle: _x( 'Grid view', 'Latest posts block display setting' ),\n\t\t\tonClick: () => setAttributes( { postLayout: 'grid' } ),\n\t\t\tisActive: postLayout === 'grid',\n\t\t},\n\t];\n\n\tconst dateFormat = getSettings().formats.date;\n\n\treturn (\n\t\t<>\n\t\t\t{ inspectorControls }\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ layoutControls } />\n\t\t\t</BlockControls>\n\t\t\t<ul { ...blockProps }>\n\t\t\t\t{ displayPosts.map( ( post ) => {\n\t\t\t\t\tconst titleTrimmed = post.title.rendered.trim();\n\t\t\t\t\tlet excerpt = post.excerpt.rendered;\n\t\t\t\t\tconst currentAuthor = authorList?.find(\n\t\t\t\t\t\t( author ) => author.id === post.author\n\t\t\t\t\t);\n\n\t\t\t\t\tconst excerptElement = document.createElement( 'div' );\n\t\t\t\t\texcerptElement.innerHTML = excerpt;\n\n\t\t\t\t\texcerpt =\n\t\t\t\t\t\texcerptElement.textContent ||\n\t\t\t\t\t\texcerptElement.innerText ||\n\t\t\t\t\t\t'';\n\n\t\t\t\t\tconst { url: imageSourceUrl, alt: featuredImageAlt } =\n\t\t\t\t\t\tgetFeaturedImageDetails( post, featuredImageSizeSlug );\n\t\t\t\t\tconst imageClasses = clsx( {\n\t\t\t\t\t\t'wp-block-latest-posts__featured-image': true,\n\t\t\t\t\t\t[ `align${ featuredImageAlign }` ]:\n\t\t\t\t\t\t\t!! featuredImageAlign,\n\t\t\t\t\t} );\n\t\t\t\t\tconst renderFeaturedImage =\n\t\t\t\t\t\tdisplayFeaturedImage && imageSourceUrl;\n\t\t\t\t\tconst featuredImage = renderFeaturedImage && (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ imageSourceUrl }\n\t\t\t\t\t\t\talt={ featuredImageAlt }\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tmaxWidth: featuredImageSizeWidth,\n\t\t\t\t\t\t\t\tmaxHeight: featuredImageSizeHeight,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\tconst needsReadMore =\n\t\t\t\t\t\texcerptLength < excerpt.trim().split( ' ' ).length &&\n\t\t\t\t\t\tpost.excerpt.raw === '';\n\n\t\t\t\t\tconst postExcerpt = needsReadMore ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ excerpt\n\t\t\t\t\t\t\t\t.trim()\n\t\t\t\t\t\t\t\t.split( ' ', excerptLength )\n\t\t\t\t\t\t\t\t.join( ' ' ) }\n\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: 1: Hidden accessibility text: Post title */\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'… <a>Read more<span>: %1$s</span></a>'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ttitleTrimmed || __( '(no title)' )\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/anchor-has-content\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-latest-posts__read-more\"\n\t\t\t\t\t\t\t\t\t\t\thref={ post.link }\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\tshowRedirectionPreventedNotice\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tspan: (\n\t\t\t\t\t\t\t\t\t\t<span className=\"screen-reader-text\" />\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\texcerpt\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li key={ post.id }>\n\t\t\t\t\t\t\t{ renderFeaturedImage && (\n\t\t\t\t\t\t\t\t<div className={ imageClasses }>\n\t\t\t\t\t\t\t\t\t{ addLinkToFeaturedImage ? (\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={ post.link }\n\t\t\t\t\t\t\t\t\t\t\trel=\"noreferrer noopener\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t\t\t\t\tshowRedirectionPreventedNotice\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ featuredImage }\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tfeaturedImage\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclassName=\"wp-block-latest-posts__post-title\"\n\t\t\t\t\t\t\t\thref={ post.link }\n\t\t\t\t\t\t\t\trel=\"noreferrer noopener\"\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={\n\t\t\t\t\t\t\t\t\t!! titleTrimmed\n\t\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\t\t__html: titleTrimmed,\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonClick={ showRedirectionPreventedNotice }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ ! titleTrimmed ? __( '(no title)' ) : null }\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{ displayAuthor && currentAuthor && (\n\t\t\t\t\t\t\t\t<div className=\"wp-block-latest-posts__post-author\">\n\t\t\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: byline. %s: current author. */\n\t\t\t\t\t\t\t\t\t\t__( 'by %s' ),\n\t\t\t\t\t\t\t\t\t\tcurrentAuthor.name\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ displayPostDate && post.date_gmt && (\n\t\t\t\t\t\t\t\t<time\n\t\t\t\t\t\t\t\t\tdateTime={ format( 'c', post.date_gmt ) }\n\t\t\t\t\t\t\t\t\tclassName=\"wp-block-latest-posts__post-date\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ dateI18n( dateFormat, post.date_gmt ) }\n\t\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ displayPostContent &&\n\t\t\t\t\t\t\t\tdisplayPostContentRadio === 'excerpt' && (\n\t\t\t\t\t\t\t\t\t<div className=\"wp-block-latest-posts__post-excerpt\">\n\t\t\t\t\t\t\t\t\t\t{ postExcerpt }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ displayPostContent &&\n\t\t\t\t\t\t\t\tdisplayPostContentRadio === 'full_post' && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-latest-posts__post-full-content\"\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={ {\n\t\t\t\t\t\t\t\t\t\t\t__html: post.content.raw.trim(),\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]}