{"version":3,"names":["clsx","DELETE","BACKSPACE","useDispatch","InspectorControls","URLPopover","URLInput","useBlockProps","store","blockEditorStore","useState","Button","PanelBody","PanelRow","TextControl","__experimentalInputControlSuffixWrapper","InputControlSuffixWrapper","__","keyboardReturn","getIconBySite","getNameBySite","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SocialLinkURLPopover","url","setAttributes","setPopover","popoverAnchor","clientId","removeBlock","anchor","onClose","focus","children","className","onSubmit","event","preventDefault","value","onChange","nextURL","placeholder","label","hideLabelFromVision","disableSuggestions","onKeyDown","defaultPrevented","includes","keyCode","suffix","variant","icon","type","size","SocialLinkEdit","attributes","context","isSelected","service","rel","showLabels","iconColor","iconColorValue","iconBackgroundColor","iconBackgroundColorValue","showURLPopover","classes","setPopoverAnchor","IconComponent","socialLinkName","socialLinkText","trim","blockProps","style","color","backgroundColor","title","__next40pxDefaultSize","__nextHasNoMarginBottom","help","group","ref","onClick"],"sources":["@wordpress/block-library/src/social-link/edit.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { DELETE, BACKSPACE } from '@wordpress/keycodes';\nimport { useDispatch } from '@wordpress/data';\n\nimport {\n\tInspectorControls,\n\tURLPopover,\n\tURLInput,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\tPanelBody,\n\tPanelRow,\n\tTextControl,\n\t__experimentalInputControlSuffixWrapper as InputControlSuffixWrapper,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getIconBySite, getNameBySite } from './social-list';\n\nconst SocialLinkURLPopover = ( {\n\turl,\n\tsetAttributes,\n\tsetPopover,\n\tpopoverAnchor,\n\tclientId,\n} ) => {\n\tconst { removeBlock } = useDispatch( blockEditorStore );\n\treturn (\n\t\t<URLPopover\n\t\t\tanchor={ popoverAnchor }\n\t\t\taria-label={ __( 'Edit social link' ) }\n\t\t\tonClose={ () => {\n\t\t\t\tsetPopover( false );\n\t\t\t\tpopoverAnchor?.focus();\n\t\t\t} }\n\t\t>\n\t\t\t<form\n\t\t\t\tclassName=\"block-editor-url-popover__link-editor\"\n\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tsetPopover( false );\n\t\t\t\t\tpopoverAnchor?.focus();\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<div className=\"block-editor-url-input\">\n\t\t\t\t\t<URLInput\n\t\t\t\t\t\tvalue={ url }\n\t\t\t\t\t\tonChange={ ( nextURL ) =>\n\t\t\t\t\t\t\tsetAttributes( { url: nextURL } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tplaceholder={ __( 'Enter social link' ) }\n\t\t\t\t\t\tlabel={ __( 'Enter social link' ) }\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tdisableSuggestions\n\t\t\t\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!! url ||\n\t\t\t\t\t\t\t\tevent.defaultPrevented ||\n\t\t\t\t\t\t\t\t! [ BACKSPACE, DELETE ].includes(\n\t\t\t\t\t\t\t\t\tevent.keyCode\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tremoveBlock( clientId );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t<InputControlSuffixWrapper variant=\"control\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ticon={ keyboardReturn }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</InputControlSuffixWrapper>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</URLPopover>\n\t);\n};\n\nconst SocialLinkEdit = ( {\n\tattributes,\n\tcontext,\n\tisSelected,\n\tsetAttributes,\n\tclientId,\n} ) => {\n\tconst { url, service, label = '', rel } = attributes;\n\tconst {\n\t\tshowLabels,\n\t\ticonColor,\n\t\ticonColorValue,\n\t\ticonBackgroundColor,\n\t\ticonBackgroundColorValue,\n\t} = context;\n\tconst [ showURLPopover, setPopover ] = useState( false );\n\tconst classes = clsx( 'wp-social-link', 'wp-social-link-' + service, {\n\t\t'wp-social-link__is-incomplete': ! url,\n\t\t[ `has-${ iconColor }-color` ]: iconColor,\n\t\t[ `has-${ iconBackgroundColor }-background-color` ]:\n\t\t\ticonBackgroundColor,\n\t} );\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\n\tconst IconComponent = getIconBySite( service );\n\tconst socialLinkName = getNameBySite( service );\n\t// The initial label (ie. the link text) is an empty string.\n\t// We want to prevent empty links so that the link text always fallbacks to\n\t// the social name, even when users enter and save an empty string or only\n\t// spaces. The PHP render callback fallbacks to the social name as well.\n\tconst socialLinkText = label.trim() === '' ? socialLinkName : label;\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t\tstyle: {\n\t\t\tcolor: iconColorValue,\n\t\t\tbackgroundColor: iconBackgroundColorValue,\n\t\t},\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Text' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'The text is visible when enabled from the parent Social Icons block.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { label: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={ socialLinkName }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorControls group=\"advanced\">\n\t\t\t\t<TextControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Link rel' ) }\n\t\t\t\t\tvalue={ rel || '' }\n\t\t\t\t\tonChange={ ( value ) => setAttributes( { rel: value } ) }\n\t\t\t\t/>\n\t\t\t</InspectorControls>\n\t\t\t<li { ...blockProps }>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"wp-block-social-link-anchor\"\n\t\t\t\t\tref={ setPopoverAnchor }\n\t\t\t\t\tonClick={ () => setPopover( true ) }\n\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t>\n\t\t\t\t\t<IconComponent />\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ clsx( 'wp-block-social-link-label', {\n\t\t\t\t\t\t\t'screen-reader-text': ! showLabels,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ socialLinkText }\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{ isSelected && showURLPopover && (\n\t\t\t\t\t<SocialLinkURLPopover\n\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tsetPopover={ setPopover }\n\t\t\t\t\t\tpopoverAnchor={ popoverAnchor }\n\t\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</li>\n\t\t</>\n\t);\n};\n\nexport default SocialLinkEdit;\n"],"mappings":"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","ignoreList":[]}