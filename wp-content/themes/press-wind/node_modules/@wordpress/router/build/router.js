"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RouterProvider = RouterProvider;
exports.useHistory = useHistory;
exports.useLocation = useLocation;
var _element = require("@wordpress/element");
var _history = _interopRequireDefault(require("./history"));
var _jsxRuntime = require("react/jsx-runtime");
/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */

const RoutesContext = (0, _element.createContext)(null);
const HistoryContext = (0, _element.createContext)(_history.default);
function useLocation() {
  return (0, _element.useContext)(RoutesContext);
}
function useHistory() {
  return (0, _element.useContext)(HistoryContext);
}
function RouterProvider({
  children
}) {
  const location = (0, _element.useSyncExternalStore)(_history.default.listen, _history.default.getLocationWithParams, _history.default.getLocationWithParams);
  return /*#__PURE__*/(0, _jsxRuntime.jsx)(HistoryContext.Provider, {
    value: _history.default,
    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(RoutesContext.Provider, {
      value: location,
      children: children
    })
  });
}
//# sourceMappingURL=router.js.map