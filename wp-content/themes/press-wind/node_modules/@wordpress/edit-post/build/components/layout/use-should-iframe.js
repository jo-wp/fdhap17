"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useShouldIframe = useShouldIframe;
var _editor = require("@wordpress/editor");
var _data = require("@wordpress/data");
var _blocks = require("@wordpress/blocks");
var _blockEditor = require("@wordpress/block-editor");
/**
 * WordPress dependencies
 */

const isGutenbergPlugin = globalThis.IS_GUTENBERG_PLUGIN ? true : false;
function useShouldIframe() {
  const {
    isBlockBasedTheme,
    hasV3BlocksOnly,
    isEditingTemplate,
    isZoomOutMode
  } = (0, _data.useSelect)(select => {
    const {
      getEditorSettings,
      getCurrentPostType
    } = select(_editor.store);
    const {
      __unstableGetEditorMode
    } = select(_blockEditor.store);
    const {
      getBlockTypes
    } = select(_blocks.store);
    const editorSettings = getEditorSettings();
    return {
      isBlockBasedTheme: editorSettings.__unstableIsBlockBasedTheme,
      hasV3BlocksOnly: getBlockTypes().every(type => {
        return type.apiVersion >= 3;
      }),
      isEditingTemplate: getCurrentPostType() === 'wp_template',
      isZoomOutMode: __unstableGetEditorMode() === 'zoom-out'
    };
  }, []);
  return hasV3BlocksOnly || isGutenbergPlugin && isBlockBasedTheme || isEditingTemplate || isZoomOutMode;
}
//# sourceMappingURL=use-should-iframe.js.map